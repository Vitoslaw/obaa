scene = {}
scene.__index = scene

function scene.new()
	return setmetatable({objects = {}, statics = {}},scene)
end



startMenu = scene.new()
choseMode = scene.new()
arena = scene.new()

activeScene = startMenu


function scene:update(elapsed)
	for k,v in pairs(self.objects) do
		v:AICheck(elapsed)
		v:eventCheck(elapsed)

		v:physics(elapsed)
	end
end

function scene:onKeyPress(key)
	for k,v	in pairs(self.objects) do
		v:inputPressCheck(key)
	end

	for k,v in pairs(self.objects) do
		v:inputPressCheck(key)
	end
end

function scene:onKeyRelease(key)
	for k,v	in pairs(self.objects) do
		v:inputReleaseCheck(key)
	end

	for k,v in pairs(self.objects) do
		v:inputReleaseCheck(key)
	end
end

function scene:draw()
	for k,v in pairs(self.objects) do
		if v.image then
			love.graphics.draw(v.image,v.x,v.y)
		end
	end

	for k,v in pairs(self.statics) do
		if v.image then
			love.graphics.draw(v.image,v.x,v.y)
		end
	end
end
e




function UpdateScene(elapsed)
	activeScene:update(elapsed)
end

function DrawScene()
	activeScene:draw()
end

function OnKeyPressScene(key)
	activeScene:onKeyPress(key)
end

function OnKeyReleaseScene(key)
	activeScene:onKeyRelease(key)
end
